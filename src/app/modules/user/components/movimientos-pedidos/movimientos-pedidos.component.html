<!--
  ~ Copyright (c) 2024 Luis Chumi.
  ~ Este software está licenciado bajo la Licencia Pública General de GNU versión 3. Puedes encontrar una copia de la licencia en https://www.gnu.org/licenses/gpl-3.0.html.
  ~
  ~ Para consultas o comentarios, puedes contactarme en "luischumi.9@gmail.com".
  ~ Me gustaría ser reconocido por mi trabajo y estar abierto a colaboraciones o enseñanzas sobre el programa.
  -->

<section *ngIf="!ventanaVista">
  <div>
    <label for="estadoSelect">Buscar Pedido </label>
    <select class="form-control" id="estadoSelect" [(ngModel)]="pedidoInterno">
      <option value=""></option>
      <option value="1">Interno</option>
      <option value="0">Clientes</option>
    </select>
  </div>

  <button class="btn btn-outline-primary" (click)="listarPedidos()">
    <fa-icon [icon]="faSearch"></fa-icon>
  </button>

  <div class="table-container">
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Cliente</th>
        <th scope="col">Comprobante</th>
        <th scope="col">Empresa</th>
        <th>.</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let pedido of listaPedidos" (click)="pedidoSelecionado=pedido">
        <td>{{ pedido.cliente }}</td>
        <td>{{ pedido.comprobante }}</td>
        <td>{{ pedido.empresa }}</td>
        <td>
          <button
            type="button"
            class="btn btn-primary"
            (click)="ListarProductosDespacho(pedido)"
          >
            Continuar <fa-icon [icon]="faFolderOpen"></fa-icon>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>

<section *ngIf="ventanaVista">
  <div class="table-container">
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Item Pedido</th>
        <th scope="col">Detalle Pedido</th>
        <th scope="col">Cantidad Pedido</th>
        <th scope="col">Observacion Pedido</th>
        <th>.</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let producto of listaProductosPedidos">
        <td>{{ producto.proId1 }}</td>
        <td>{{ producto.proNombre }}</td>
        <td>{{ producto.cantidad }}</td>
        <td>{{ producto.observacion }}</td>
        <td>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
