<!--
  ~ Copyright (c) 2024 Luis Chumi.
  ~ Este software está licenciado bajo la Licencia Pública General de GNU versión 3. Puedes encontrar una copia de la licencia en https://www.gnu.org/licenses/gpl-3.0.html.
  ~
  ~ Para consultas o comentarios, puedes contactarme en "luischumi.9@gmail.com".
  ~ Me gustaría ser reconocido por mi trabajo y estar abierto a colaboraciones o enseñanzas sobre el programa.
  -->

<section *ngIf="!ventanaVista">
  <div class="container">
    <p class="h2">Movimiento de pedidos de zhucay</p>

    <div class="mb-4">
      <label for="estadoSelect">Buscar Pedido </label>
      <select class="form-select" aria-label="Buscar Pedido" id="estadoSelect" [(ngModel)]="pedidoInterno">
        <option value=""></option>
        <option value="1">Interno</option>
        <option value="0">Clientes</option>
      </select>
    </div>
  </div>

  <button class="btn btn-outline-primary" (click)="listarPedidos()">
    <fa-icon [icon]="faSearch"></fa-icon>
  </button>

  <div class="table-container">
    <table class="table table-sm table-responsive table-primary">
      <thead>
      <tr>
        <th scope="col">Cliente</th>
        <th scope="col">Comprobante</th>
        <th scope="col">Empresa</th>
        <th>.</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let pedido of listaPedidos" (click)="pedidoSelecionado=pedido">
        <td>{{ pedido.cliente }}</td>
        <td>{{ pedido.comprobante }}</td>
        <td>{{ pedido.empresa }}</td>
        <td>
          <button
            type="button"
            class="btn btn-primary"
            (click)="buscarMovPed(pedido)"
          >
            Continuar <fa-icon [icon]="faFolderOpen"></fa-icon>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>

<section *ngIf="ventanaVista">
  <div class="container">

    <h1 class="titulo" style="Text-transform: uppercase">Productos  {{pedidoSelecionado.comprobante}}</h1>

    <div class="col-md-4">

    </div>

    <table class="table">
      <thead>
      <tr>
        <th scope="col">Item Pedido</th>
        <th scope="col">Detalle Pedido</th>
        <th scope="col">Cantidad Pedido</th>
        <th scope="col">Observacion Pedido</th>
        <th scope="col">Cantidad Diogitada</th>
        <th scope="col">Observacion </th>
        <th>.</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let producto of listaProductosPedidos">
        <td>{{ producto.proId1 }}</td>
        <td>{{ producto.proNombre }}</td>
        <td>{{ producto.cantidad }}</td>
        <td>{{ producto.observacion }}</td>
        <td>{{ producto.cantDigitada }}</td>
        <td>{{ producto.observacionDigitada }}</td>
        <td>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
