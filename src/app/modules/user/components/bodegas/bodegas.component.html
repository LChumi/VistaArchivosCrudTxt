<!--
  ~ Copyright (c) 2024 Luis Chumi.
  ~ Este software está licenciado bajo la Licencia Pública General de GNU versión 3. Puedes encontrar una copia de la licencia en https://www.gnu.org/licenses/gpl-3.0.html.
  ~
  ~ Para consultas o comentarios, puedes contactarme en "luischumi.9@gmail.com".
  ~ Me gustaría ser reconocido por mi trabajo y estar abierto a colaboraciones o enseñanzas sobre el programa.
  -->

<main class="main">
  <div class="tittle-container">
    <h1>LISTA DE BODEGAS</h1>
  </div>
  <div class="card-row">
    <div class="card" *ngFor="let bodega of listaBodegas" (click)="BodegaSelecccionada(bodega)" >
      <img [src]="alamcenNarancayImg" alt="Bodega">
      <h2>{{bodega.bod_nombre}}</h2>
    </div>
    <div class="card" (click)="abrirConsignacion()" >
      <img [src]="alamcenNarancayImg" alt="consignacion">
      <h2>Consignacion</h2>
    </div>
    <div class="card" (click)="abrirConfiteria()" >
      <img [src]="alamcenNarancayImg" alt="confiteria">
      <h2>Confiteria</h2>
    </div>
  </div>
  <hr>
  <div class="bg-light-subtle align-items-center">
    <button type="button" class="btn btn-info" (click)="showModal=true"> Generar archivo de pedidos
      <fa-icon [icon]="faFileExport"></fa-icon>
    </button>
  </div>

  <div class="modal-opciones" *ngIf="showModal ">
    <div class="modal-content-opciones">
      <span>Pedido</span>
      <div class="input-group mb-auto">
        <span class="input-group-text" id="basic-addon3">Pedido #</span>
        <input
          type="number"
          class="form-control"
          [(ngModel)]="codigo"
          id="basic-url"
          autocomplete="off"
          aria-describedby="basic-addon3">
      </div>
      <div class="close" (click)="showModal=false">
        <fa-icon [icon]="faWindowClose"></fa-icon>
      </div>
      <div class="content">
        <ul class="icons">
          <button
            (click)="descargarExcel()"
            [disabled]="donwloading"
            type="button"
            class="btn btn-primary"
            title="Excel"
            [ngClass]="{'opacity-50 cursor-not-allowed': donwloading}"
           >
            <fa-icon [icon]="faFileExcel"></fa-icon>
            <div *ngIf="donwloading" class="spinner-container">
              <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
          </button>
          <button
            (click)="descargarPdf()"
            [disabled]="donwloading"
            class="btn btn-primary"
            title="Pdf"
            [ngClass]="{'opacity-50 cursor-not-allowed': donwloading}"
            >
            <fa-icon *ngIf="!donwloading" [icon]="faFilePdf"></fa-icon>
            <div *ngIf="donwloading" class="spinner-container">
              <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
          </button>
        </ul>
      </div>
    </div>
  </div>
</main>


